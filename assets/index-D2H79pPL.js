import{r as v,a as cr}from"./index-CleY8y_P.js";import{R as Kr}from"./index-DMWgzpko.js";/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},W.apply(this,arguments)}var $;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})($||($={}));function Vr(e){e===void 0&&(e={});let{initialEntries:t=["/"],initialIndex:r,v5Compat:n=!1}=e,a;a=t.map((w,b)=>d(w,typeof w=="string"?null:w.state,b===0?"default":void 0));let o=u(r??a.length-1),i=$.Pop,s=null;function u(w){return Math.min(Math.max(w,0),a.length-1)}function p(){return a[o]}function d(w,b,R){b===void 0&&(b=null);let _=wt(a?p().pathname:"/",w,b,R);return Ce(_.pathname.charAt(0)==="/","relative pathnames are not supported in memory history: "+JSON.stringify(w)),_}function m(w){return typeof w=="string"?w:Pe(w)}return{get index(){return o},get action(){return i},get location(){return p()},createHref:m,createURL(w){return new URL(m(w),"http://localhost")},encodeLocation(w){let b=typeof w=="string"?pe(w):w;return{pathname:b.pathname||"",search:b.search||"",hash:b.hash||""}},push(w,b){i=$.Push;let R=d(w,b);o+=1,a.splice(o,a.length,R),n&&s&&s({action:i,location:R,delta:1})},replace(w,b){i=$.Replace;let R=d(w,b);a[o]=R,n&&s&&s({action:i,location:R,delta:0})},go(w){i=$.Pop;let b=u(o+w),R=a[b];o=b,s&&s({action:i,location:R,delta:w})},listen(w){return s=w,()=>{s=null}}}}function L(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ce(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Jr(){return Math.random().toString(36).substr(2,8)}function wt(e,t,r,n){return r===void 0&&(r=null),W({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?pe(t):t,{state:r,key:t&&t.key||n||Jr()})}function Pe(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function pe(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}var z;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(z||(z={}));const Yr=new Set(["lazy","caseSensitive","path","id","index","children"]);function Gr(e){return e.index===!0}function Rt(e,t,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),e.map((a,o)=>{let i=[...r,o],s=typeof a.id=="string"?a.id:i.join("-");if(L(a.index!==!0||!a.children,"Cannot specify children on an index route"),L(!n[s],'Found a route id collision on id "'+s+`".  Route id's must be globally unique within Data Router usages`),Gr(a)){let u=W({},a,t(a),{id:s});return n[s]=u,u}else{let u=W({},a,t(a),{id:s,children:void 0});return n[s]=u,a.children&&(u.children=Rt(a.children,t,i,n)),u}})}function Ie(e,t,r){r===void 0&&(r="/");let n=typeof t=="string"?pe(t):t,a=oe(n.pathname||"/",r);if(a==null)return null;let o=dr(e);qr(o);let i=null;for(let s=0;i==null&&s<o.length;++s){let u=un(a);i=ln(o[s],u)}return i}function Xr(e,t){let{route:r,pathname:n,params:a}=e;return{id:r.id,pathname:n,params:a,data:t[r.id],handle:r.handle}}function dr(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(o,i,s)=>{let u={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};u.relativePath.startsWith("/")&&(L(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let p=se([n,u.relativePath]),d=r.concat(u);o.children&&o.children.length>0&&(L(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),dr(o.children,t,d,p)),!(o.path==null&&!o.index)&&t.push({path:p,score:an(p,o.index),routesMeta:d})};return e.forEach((o,i)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))a(o,i);else for(let u of fr(o.path))a(o,i,u)}),t}function fr(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return a?[o,""]:[o];let i=fr(n.join("/")),s=[];return s.push(...i.map(u=>u===""?o:[o,u].join("/"))),a&&s.push(...i),s.map(u=>e.startsWith("/")&&u===""?"/":u)}function qr(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:on(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Qr=/^:[\w-]+$/,Zr=3,en=2,tn=1,rn=10,nn=-2,Jt=e=>e==="*";function an(e,t){let r=e.split("/"),n=r.length;return r.some(Jt)&&(n+=nn),t&&(n+=en),r.filter(a=>!Jt(a)).reduce((a,o)=>a+(Qr.test(o)?Zr:o===""?tn:rn),n)}function on(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function ln(e,t){let{routesMeta:r}=e,n={},a="/",o=[];for(let i=0;i<r.length;++i){let s=r[i],u=i===r.length-1,p=a==="/"?t:t.slice(a.length)||"/",d=xt({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},p);if(!d)return null;Object.assign(n,d.params);let m=s.route;o.push({params:n,pathname:se([a,d.pathname]),pathnameBase:fn(se([a,d.pathnameBase])),route:m}),d.pathnameBase!=="/"&&(a=se([a,d.pathnameBase]))}return o}function xt(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=sn(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let o=a[0],i=o.replace(/(.)\/+$/,"$1"),s=a.slice(1);return{params:n.reduce((p,d,m)=>{let{paramName:g,isOptional:w}=d;if(g==="*"){let R=s[m]||"";i=o.slice(0,o.length-R.length).replace(/(.)\/+$/,"$1")}const b=s[m];return w&&!b?p[g]=void 0:p[g]=(b||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:i,pattern:e}}function sn(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Ce(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,s,u)=>(n.push({paramName:s,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function un(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ce(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function oe(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function cn(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?pe(e):e;return{pathname:r?r.startsWith("/")?r:dn(r,t):t,search:hn(n),hash:mn(a)}}function dn(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function pt(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hr(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Dt(e,t){let r=hr(e);return t?r.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Mt(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=pe(e):(a=W({},e),L(!a.pathname||!a.pathname.includes("?"),pt("?","pathname","search",a)),L(!a.pathname||!a.pathname.includes("#"),pt("#","pathname","hash",a)),L(!a.search||!a.search.includes("#"),pt("#","search","hash",a)));let o=e===""||a.pathname==="",i=o?"/":a.pathname,s;if(i==null)s=r;else{let m=t.length-1;if(!n&&i.startsWith("..")){let g=i.split("/");for(;g[0]==="..";)g.shift(),m-=1;a.pathname=g.join("/")}s=m>=0?t[m]:"/"}let u=cn(a,s),p=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(p||d)&&(u.pathname+="/"),u}const se=e=>e.join("/").replace(/\/\/+/g,"/"),fn=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),hn=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,mn=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class mr{constructor(t,r,n,a){a===void 0&&(a=!1),this.status=t,this.statusText=r||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function Tt(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const pr=["post","put","patch","delete"],pn=new Set(pr),vn=["get",...pr],gn=new Set(vn),yn=new Set([301,302,303,307,308]),bn=new Set([307,308]),vt={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},vr={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},He={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Ft=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wn=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),gr="remix-router-transitions";function Rn(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",n=!r;L(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let a;if(e.mapRouteProperties)a=e.mapRouteProperties;else if(e.detectErrorBoundary){let l=e.detectErrorBoundary;a=c=>({hasErrorBoundary:l(c)})}else a=wn;let o={},i=Rt(e.routes,a,void 0,o),s,u=e.basename||"/",p=e.unstable_dataStrategy||Cn,d=W({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},e.future),m=null,g=new Set,w=null,b=null,R=null,_=e.hydrationData!=null,A=Ie(i,e.history.location,u),T=null;if(A==null){let l=ne(404,{pathname:e.history.location.pathname}),{matches:c,route:h}=nr(i);A=c,T={[h.id]:l}}let D,O=A.some(l=>l.route.lazy),X=A.some(l=>l.route.loader);if(O)D=!1;else if(!X)D=!0;else if(d.v7_partialHydration){let l=e.hydrationData?e.hydrationData.loaderData:null,c=e.hydrationData?e.hydrationData.errors:null,h=y=>y.route.loader?typeof y.route.loader=="function"&&y.route.loader.hydrate===!0?!1:l&&l[y.route.id]!==void 0||c&&c[y.route.id]!==void 0:!0;if(c){let y=A.findIndex(x=>c[x.route.id]!==void 0);D=A.slice(0,y+1).every(h)}else D=A.every(h)}else D=e.hydrationData!=null;let te,f={historyAction:e.history.action,location:e.history.location,matches:A,initialized:D,navigation:vt,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||T,fetchers:new Map,blockers:new Map},j=$.Pop,I=!1,N,B=!1,q=new Map,V=null,Z=!1,de=!1,Ze=[],et=[],H=new Map,tt=0,Ne=-1,De=new Map,fe=new Set,Me=new Map,Ae=new Map,he=new Set,we=new Map,Re=new Map,ft=!1;function Tr(){if(m=e.history.listen(l=>{let{action:c,location:h,delta:y}=l;if(ft){ft=!1;return}Ce(Re.size===0||y!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let x=Ht({currentLocation:f.location,nextLocation:h,historyAction:c});if(x&&y!=null){ft=!0,e.history.go(y*-1),nt(x,{state:"blocked",location:h,proceed(){nt(x,{state:"proceeding",proceed:void 0,reset:void 0,location:h}),e.history.go(y)},reset(){let M=new Map(f.blockers);M.set(x,He),ee({blockers:M})}});return}return xe(c,h)}),r){On(t,q);let l=()=>jn(t,q);t.addEventListener("pagehide",l),V=()=>t.removeEventListener("pagehide",l)}return f.initialized||xe($.Pop,f.location,{initialHydration:!0}),te}function Fr(){m&&m(),V&&V(),g.clear(),N&&N.abort(),f.fetchers.forEach((l,c)=>rt(c)),f.blockers.forEach((l,c)=>Wt(c))}function _r(l){return g.add(l),()=>g.delete(l)}function ee(l,c){c===void 0&&(c={}),f=W({},f,l);let h=[],y=[];d.v7_fetcherPersist&&f.fetchers.forEach((x,M)=>{x.state==="idle"&&(he.has(M)?y.push(M):h.push(M))}),[...g].forEach(x=>x(f,{deletedFetchers:y,unstable_viewTransitionOpts:c.viewTransitionOpts,unstable_flushSync:c.flushSync===!0})),d.v7_fetcherPersist&&(h.forEach(x=>f.fetchers.delete(x)),y.forEach(x=>rt(x)))}function Oe(l,c,h){var y,x;let{flushSync:M}=h===void 0?{}:h,S=f.actionData!=null&&f.navigation.formMethod!=null&&ie(f.navigation.formMethod)&&f.navigation.state==="loading"&&((y=l.state)==null?void 0:y._isRedirect)!==!0,E;c.actionData?Object.keys(c.actionData).length>0?E=c.actionData:E=null:S?E=f.actionData:E=null;let F=c.loaderData?tr(f.loaderData,c.loaderData,c.matches||[],c.errors):f.loaderData,P=f.blockers;P.size>0&&(P=new Map(P),P.forEach((C,k)=>P.set(k,He)));let J=I===!0||f.navigation.formMethod!=null&&ie(f.navigation.formMethod)&&((x=l.state)==null?void 0:x._isRedirect)!==!0;s&&(i=s,s=void 0),Z||j===$.Pop||(j===$.Push?e.history.push(l,l.state):j===$.Replace&&e.history.replace(l,l.state));let Y;if(j===$.Pop){let C=q.get(f.location.pathname);C&&C.has(l.pathname)?Y={currentLocation:f.location,nextLocation:l}:q.has(l.pathname)&&(Y={currentLocation:l,nextLocation:f.location})}else if(B){let C=q.get(f.location.pathname);C?C.add(l.pathname):(C=new Set([l.pathname]),q.set(f.location.pathname,C)),Y={currentLocation:f.location,nextLocation:l}}ee(W({},c,{actionData:E,loaderData:F,historyAction:j,location:l,initialized:!0,navigation:vt,revalidation:"idle",restoreScrollPosition:Kt(l,c.matches||f.matches),preventScrollReset:J,blockers:P}),{viewTransitionOpts:Y,flushSync:M===!0}),j=$.Pop,I=!1,B=!1,Z=!1,de=!1,Ze=[],et=[]}async function At(l,c){if(typeof l=="number"){e.history.go(l);return}let h=Et(f.location,f.matches,u,d.v7_prependBasename,l,d.v7_relativeSplatPath,c==null?void 0:c.fromRouteId,c==null?void 0:c.relative),{path:y,submission:x,error:M}=Yt(d.v7_normalizeFormMethod,!1,h,c),S=f.location,E=wt(f.location,y,c&&c.state);E=W({},E,e.history.encodeLocation(E));let F=c&&c.replace!=null?c.replace:void 0,P=$.Push;F===!0?P=$.Replace:F===!1||x!=null&&ie(x.formMethod)&&x.formAction===f.location.pathname+f.location.search&&(P=$.Replace);let J=c&&"preventScrollReset"in c?c.preventScrollReset===!0:void 0,Y=(c&&c.unstable_flushSync)===!0,C=Ht({currentLocation:S,nextLocation:E,historyAction:P});if(C){nt(C,{state:"blocked",location:E,proceed(){nt(C,{state:"proceeding",proceed:void 0,reset:void 0,location:E}),At(l,c)},reset(){let k=new Map(f.blockers);k.set(C,He),ee({blockers:k})}});return}return await xe(P,E,{submission:x,pendingError:M,preventScrollReset:J,replace:c&&c.replace,enableViewTransition:c&&c.unstable_viewTransition,flushSync:Y})}function Ur(){if(ht(),ee({revalidation:"loading"}),f.navigation.state!=="submitting"){if(f.navigation.state==="idle"){xe(f.historyAction,f.location,{startUninterruptedRevalidation:!0});return}xe(j||f.historyAction,f.navigation.location,{overrideNavigation:f.navigation})}}async function xe(l,c,h){N&&N.abort(),N=null,j=l,Z=(h&&h.startUninterruptedRevalidation)===!0,Wr(f.location,f.matches),I=(h&&h.preventScrollReset)===!0,B=(h&&h.enableViewTransition)===!0;let y=s||i,x=h&&h.overrideNavigation,M=Ie(y,c,u),S=(h&&h.flushSync)===!0;if(!M){let C=ne(404,{pathname:c.pathname}),{matches:k,route:K}=nr(y);mt(),Oe(c,{matches:k,loaderData:{},errors:{[K.id]:C}},{flushSync:S});return}if(f.initialized&&!de&&Fn(f.location,c)&&!(h&&h.submission&&ie(h.submission.formMethod))){Oe(c,{matches:M},{flushSync:S});return}N=new AbortController;let E=Ue(e.history,c,N.signal,h&&h.submission),F;if(h&&h.pendingError)F=[Ve(M).route.id,{type:z.error,error:h.pendingError}];else if(h&&h.submission&&ie(h.submission.formMethod)){let C=await Ir(E,c,h.submission,M,{replace:h.replace,flushSync:S});if(C.shortCircuited)return;F=C.pendingActionResult,x=gt(c,h.submission),S=!1,E=Ue(e.history,E.url,E.signal)}let{shortCircuited:P,loaderData:J,errors:Y}=await Nr(E,c,M,x,h&&h.submission,h&&h.fetcherSubmission,h&&h.replace,h&&h.initialHydration===!0,S,F);P||(N=null,Oe(c,W({matches:M},rr(F),{loaderData:J,errors:Y})))}async function Ir(l,c,h,y,x){x===void 0&&(x={}),ht();let M=Nn(c,h);ee({navigation:M},{flushSync:x.flushSync===!0});let S,E=Ct(y,c);if(!E.route.action&&!E.route.lazy)S={type:z.error,error:ne(405,{method:l.method,pathname:c.pathname,routeId:E.route.id})};else if(S=(await Be("action",l,[E],y))[0],l.signal.aborted)return{shortCircuited:!0};if(Se(S)){let F;return x&&x.replace!=null?F=x.replace:F=Qt(S.response.headers.get("Location"),new URL(l.url),u)===f.location.pathname+f.location.search,await je(l,S,{submission:h,replace:F}),{shortCircuited:!0}}if(Ee(S))throw ne(400,{type:"defer-action"});if(ae(S)){let F=Ve(y,E.route.id);return(x&&x.replace)!==!0&&(j=$.Push),{pendingActionResult:[F.route.id,S]}}return{pendingActionResult:[E.route.id,S]}}async function Nr(l,c,h,y,x,M,S,E,F,P){let J=y||gt(c,x),Y=x||M||or(J),C=s||i,[k,K]=Gt(e.history,f,h,Y,c,d.v7_partialHydration&&E===!0,d.unstable_skipActionErrorRevalidation,de,Ze,et,he,Me,fe,C,u,P);if(mt(U=>!(h&&h.some(Q=>Q.route.id===U))||k&&k.some(Q=>Q.route.id===U)),Ne=++tt,k.length===0&&K.length===0){let U=kt();return Oe(c,W({matches:h,loaderData:{},errors:P&&ae(P[1])?{[P[0]]:P[1].error}:null},rr(P),U?{fetchers:new Map(f.fetchers)}:{}),{flushSync:F}),{shortCircuited:!0}}if(!Z&&(!d.v7_partialHydration||!E)){K.forEach(Q=>{let re=f.fetchers.get(Q.key),G=$e(void 0,re?re.data:void 0);f.fetchers.set(Q.key,G)});let U;P&&!ae(P[1])?U={[P[0]]:P[1].data}:f.actionData&&(Object.keys(f.actionData).length===0?U=null:U=f.actionData),ee(W({navigation:J},U!==void 0?{actionData:U}:{},K.length>0?{fetchers:new Map(f.fetchers)}:{}),{flushSync:F})}K.forEach(U=>{H.has(U.key)&&ge(U.key),U.controller&&H.set(U.key,U.controller)});let ze=()=>K.forEach(U=>ge(U.key));N&&N.signal.addEventListener("abort",ze);let{loaderResults:ye,fetcherResults:Te}=await Ot(f.matches,h,k,K,l);if(l.signal.aborted)return{shortCircuited:!0};N&&N.signal.removeEventListener("abort",ze),K.forEach(U=>H.delete(U.key));let Fe=ar([...ye,...Te]);if(Fe){if(Fe.idx>=k.length){let U=K[Fe.idx-k.length].key;fe.add(U)}return await je(l,Fe.result,{replace:S}),{shortCircuited:!0}}let{loaderData:_e,errors:le}=er(f,h,k,ye,P,K,Te,we);we.forEach((U,Q)=>{U.subscribe(re=>{(re||U.done)&&we.delete(Q)})}),d.v7_partialHydration&&E&&f.errors&&Object.entries(f.errors).filter(U=>{let[Q]=U;return!k.some(re=>re.route.id===Q)}).forEach(U=>{let[Q,re]=U;le=Object.assign(le||{},{[Q]:re})});let at=kt(),it=zt(Ne),ot=at||it||K.length>0;return W({loaderData:_e,errors:le},ot?{fetchers:new Map(f.fetchers)}:{})}function Ar(l,c,h,y){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");H.has(l)&&ge(l);let x=(y&&y.unstable_flushSync)===!0,M=s||i,S=Et(f.location,f.matches,u,d.v7_prependBasename,h,d.v7_relativeSplatPath,c,y==null?void 0:y.relative),E=Ie(M,S,u);if(!E){ke(l,c,ne(404,{pathname:S}),{flushSync:x});return}let{path:F,submission:P,error:J}=Yt(d.v7_normalizeFormMethod,!0,S,y);if(J){ke(l,c,J,{flushSync:x});return}let Y=Ct(E,F);if(I=(y&&y.preventScrollReset)===!0,P&&ie(P.formMethod)){Or(l,c,F,Y,E,x,P);return}Me.set(l,{routeId:c,path:F}),jr(l,c,F,Y,E,x,P)}async function Or(l,c,h,y,x,M,S){if(ht(),Me.delete(l),!y.route.action&&!y.route.lazy){let G=ne(405,{method:S.formMethod,pathname:h,routeId:c});ke(l,c,G,{flushSync:M});return}let E=f.fetchers.get(l);ve(l,An(S,E),{flushSync:M});let F=new AbortController,P=Ue(e.history,h,F.signal,S);H.set(l,F);let J=tt,C=(await Be("action",P,[y],x))[0];if(P.signal.aborted){H.get(l)===F&&H.delete(l);return}if(d.v7_fetcherPersist&&he.has(l)){if(Se(C)||ae(C)){ve(l,be(void 0));return}}else{if(Se(C))if(H.delete(l),Ne>J){ve(l,be(void 0));return}else return fe.add(l),ve(l,$e(S)),je(P,C,{fetcherSubmission:S});if(ae(C)){ke(l,c,C.error);return}}if(Ee(C))throw ne(400,{type:"defer-action"});let k=f.navigation.location||f.location,K=Ue(e.history,k,F.signal),ze=s||i,ye=f.navigation.state!=="idle"?Ie(ze,f.navigation.location,u):f.matches;L(ye,"Didn't find any matches after fetcher action");let Te=++tt;De.set(l,Te);let Fe=$e(S,C.data);f.fetchers.set(l,Fe);let[_e,le]=Gt(e.history,f,ye,S,k,!1,d.unstable_skipActionErrorRevalidation,de,Ze,et,he,Me,fe,ze,u,[y.route.id,C]);le.filter(G=>G.key!==l).forEach(G=>{let We=G.key,Vt=f.fetchers.get(We),$r=$e(void 0,Vt?Vt.data:void 0);f.fetchers.set(We,$r),H.has(We)&&ge(We),G.controller&&H.set(We,G.controller)}),ee({fetchers:new Map(f.fetchers)});let at=()=>le.forEach(G=>ge(G.key));F.signal.addEventListener("abort",at);let{loaderResults:it,fetcherResults:ot}=await Ot(f.matches,ye,_e,le,K);if(F.signal.aborted)return;F.signal.removeEventListener("abort",at),De.delete(l),H.delete(l),le.forEach(G=>H.delete(G.key));let U=ar([...it,...ot]);if(U){if(U.idx>=_e.length){let G=le[U.idx-_e.length].key;fe.add(G)}return je(K,U.result)}let{loaderData:Q,errors:re}=er(f,f.matches,_e,it,void 0,le,ot,we);if(f.fetchers.has(l)){let G=be(C.data);f.fetchers.set(l,G)}zt(Te),f.navigation.state==="loading"&&Te>Ne?(L(j,"Expected pending action"),N&&N.abort(),Oe(f.navigation.location,{matches:ye,loaderData:Q,errors:re,fetchers:new Map(f.fetchers)})):(ee({errors:re,loaderData:tr(f.loaderData,Q,ye,re),fetchers:new Map(f.fetchers)}),de=!1)}async function jr(l,c,h,y,x,M,S){let E=f.fetchers.get(l);ve(l,$e(S,E?E.data:void 0),{flushSync:M});let F=new AbortController,P=Ue(e.history,h,F.signal);H.set(l,F);let J=tt,C=(await Be("loader",P,[y],x))[0];if(Ee(C)&&(C=await Rr(C,P.signal,!0)||C),H.get(l)===F&&H.delete(l),!P.signal.aborted){if(he.has(l)){ve(l,be(void 0));return}if(Se(C))if(Ne>J){ve(l,be(void 0));return}else{fe.add(l),await je(P,C);return}if(ae(C)){ke(l,c,C.error);return}L(!Ee(C),"Unhandled fetcher deferred data"),ve(l,be(C.data))}}async function je(l,c,h){let{submission:y,fetcherSubmission:x,replace:M}=h===void 0?{}:h;c.response.headers.has("X-Remix-Revalidate")&&(de=!0);let S=c.response.headers.get("Location");L(S,"Expected a Location header on the redirect Response"),S=Qt(S,new URL(l.url),u);let E=wt(f.location,S,{_isRedirect:!0});if(r){let k=!1;if(c.response.headers.has("X-Remix-Reload-Document"))k=!0;else if(Ft.test(S)){const K=e.history.createURL(S);k=K.origin!==t.location.origin||oe(K.pathname,u)==null}if(k){M?t.location.replace(S):t.location.assign(S);return}}N=null;let F=M===!0?$.Replace:$.Push,{formMethod:P,formAction:J,formEncType:Y}=f.navigation;!y&&!x&&P&&J&&Y&&(y=or(f.navigation));let C=y||x;if(bn.has(c.response.status)&&C&&ie(C.formMethod))await xe(F,E,{submission:W({},C,{formAction:S}),preventScrollReset:I});else{let k=gt(E,y);await xe(F,E,{overrideNavigation:k,fetcherSubmission:x,preventScrollReset:I})}}async function Be(l,c,h,y){try{let x=await Pn(p,l,c,h,y,o,a);return await Promise.all(x.map((M,S)=>{if(_n(M)){let E=M.result;return{type:z.redirect,response:Mn(E,c,h[S].route.id,y,u,d.v7_relativeSplatPath)}}return Dn(M)}))}catch(x){return h.map(()=>({type:z.error,error:x}))}}async function Ot(l,c,h,y,x){let[M,...S]=await Promise.all([h.length?Be("loader",x,h,c):[],...y.map(E=>{if(E.matches&&E.match&&E.controller){let F=Ue(e.history,E.path,E.controller.signal);return Be("loader",F,[E.match],E.matches).then(P=>P[0])}else return Promise.resolve({type:z.error,error:ne(404,{pathname:E.path})})})]);return await Promise.all([ir(l,h,M,M.map(()=>x.signal),!1,f.loaderData),ir(l,y.map(E=>E.match),S,y.map(E=>E.controller?E.controller.signal:null),!0)]),{loaderResults:M,fetcherResults:S}}function ht(){de=!0,Ze.push(...mt()),Me.forEach((l,c)=>{H.has(c)&&(et.push(c),ge(c))})}function ve(l,c,h){h===void 0&&(h={}),f.fetchers.set(l,c),ee({fetchers:new Map(f.fetchers)},{flushSync:(h&&h.flushSync)===!0})}function ke(l,c,h,y){y===void 0&&(y={});let x=Ve(f.matches,c);rt(l),ee({errors:{[x.route.id]:h},fetchers:new Map(f.fetchers)},{flushSync:(y&&y.flushSync)===!0})}function jt(l){return d.v7_fetcherPersist&&(Ae.set(l,(Ae.get(l)||0)+1),he.has(l)&&he.delete(l)),f.fetchers.get(l)||vr}function rt(l){let c=f.fetchers.get(l);H.has(l)&&!(c&&c.state==="loading"&&De.has(l))&&ge(l),Me.delete(l),De.delete(l),fe.delete(l),he.delete(l),f.fetchers.delete(l)}function Br(l){if(d.v7_fetcherPersist){let c=(Ae.get(l)||0)-1;c<=0?(Ae.delete(l),he.add(l)):Ae.set(l,c)}else rt(l);ee({fetchers:new Map(f.fetchers)})}function ge(l){let c=H.get(l);L(c,"Expected fetch controller: "+l),c.abort(),H.delete(l)}function Bt(l){for(let c of l){let h=jt(c),y=be(h.data);f.fetchers.set(c,y)}}function kt(){let l=[],c=!1;for(let h of fe){let y=f.fetchers.get(h);L(y,"Expected fetcher: "+h),y.state==="loading"&&(fe.delete(h),l.push(h),c=!0)}return Bt(l),c}function zt(l){let c=[];for(let[h,y]of De)if(y<l){let x=f.fetchers.get(h);L(x,"Expected fetcher: "+h),x.state==="loading"&&(ge(h),De.delete(h),c.push(h))}return Bt(c),c.length>0}function kr(l,c){let h=f.blockers.get(l)||He;return Re.get(l)!==c&&Re.set(l,c),h}function Wt(l){f.blockers.delete(l),Re.delete(l)}function nt(l,c){let h=f.blockers.get(l)||He;L(h.state==="unblocked"&&c.state==="blocked"||h.state==="blocked"&&c.state==="blocked"||h.state==="blocked"&&c.state==="proceeding"||h.state==="blocked"&&c.state==="unblocked"||h.state==="proceeding"&&c.state==="unblocked","Invalid blocker state transition: "+h.state+" -> "+c.state);let y=new Map(f.blockers);y.set(l,c),ee({blockers:y})}function Ht(l){let{currentLocation:c,nextLocation:h,historyAction:y}=l;if(Re.size===0)return;Re.size>1&&Ce(!1,"A router only supports one blocker at a time");let x=Array.from(Re.entries()),[M,S]=x[x.length-1],E=f.blockers.get(M);if(!(E&&E.state==="proceeding")&&S({currentLocation:c,nextLocation:h,historyAction:y}))return M}function mt(l){let c=[];return we.forEach((h,y)=>{(!l||l(y))&&(h.cancel(),c.push(y),we.delete(y))}),c}function zr(l,c,h){if(w=l,R=c,b=h||null,!_&&f.navigation===vt){_=!0;let y=Kt(f.location,f.matches);y!=null&&ee({restoreScrollPosition:y})}return()=>{w=null,R=null,b=null}}function $t(l,c){return b&&b(l,c.map(y=>Xr(y,f.loaderData)))||l.key}function Wr(l,c){if(w&&R){let h=$t(l,c);w[h]=R()}}function Kt(l,c){if(w){let h=$t(l,c),y=w[h];if(typeof y=="number")return y}return null}function Hr(l){o={},s=Rt(l,a,void 0,o)}return te={get basename(){return u},get future(){return d},get state(){return f},get routes(){return i},get window(){return t},initialize:Tr,subscribe:_r,enableScrollRestoration:zr,navigate:At,fetch:Ar,revalidate:Ur,createHref:l=>e.history.createHref(l),encodeLocation:l=>e.history.encodeLocation(l),getFetcher:jt,deleteFetcher:Br,dispose:Fr,getBlocker:kr,deleteBlocker:Wt,_internalFetchControllers:H,_internalActiveDeferreds:we,_internalSetRoutes:Hr},te}function xn(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Et(e,t,r,n,a,o,i,s){let u,p;if(i){u=[];for(let m of t)if(u.push(m),m.route.id===i){p=m;break}}else u=t,p=t[t.length-1];let d=Mt(a||".",Dt(u,o),oe(e.pathname,r)||e.pathname,s==="path");return a==null&&(d.search=e.search,d.hash=e.hash),(a==null||a===""||a===".")&&p&&p.route.index&&!_t(d.search)&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),n&&r!=="/"&&(d.pathname=d.pathname==="/"?r:se([r,d.pathname])),Pe(d)}function Yt(e,t,r,n){if(!n||!xn(n))return{path:r};if(n.formMethod&&!In(n.formMethod))return{path:r,error:ne(405,{method:n.formMethod})};let a=()=>({path:r,error:ne(400,{type:"invalid-body"})}),o=n.formMethod||"get",i=e?o.toUpperCase():o.toLowerCase(),s=br(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!ie(i))return a();let g=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((w,b)=>{let[R,_]=b;return""+w+R+"="+_+`
`},""):String(n.body);return{path:r,submission:{formMethod:i,formAction:s,formEncType:n.formEncType,formData:void 0,json:void 0,text:g}}}else if(n.formEncType==="application/json"){if(!ie(i))return a();try{let g=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:i,formAction:s,formEncType:n.formEncType,formData:void 0,json:g,text:void 0}}}catch{return a()}}}L(typeof FormData=="function","FormData is not available in this environment");let u,p;if(n.formData)u=St(n.formData),p=n.formData;else if(n.body instanceof FormData)u=St(n.body),p=n.body;else if(n.body instanceof URLSearchParams)u=n.body,p=Zt(u);else if(n.body==null)u=new URLSearchParams,p=new FormData;else try{u=new URLSearchParams(n.body),p=Zt(u)}catch{return a()}let d={formMethod:i,formAction:s,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(ie(d.formMethod))return{path:r,submission:d};let m=pe(r);return t&&m.search&&_t(m.search)&&u.append("index",""),m.search="?"+u,{path:Pe(m),submission:d}}function En(e,t){let r=e;if(t){let n=e.findIndex(a=>a.route.id===t);n>=0&&(r=e.slice(0,n))}return r}function Gt(e,t,r,n,a,o,i,s,u,p,d,m,g,w,b,R){let _=R?ae(R[1])?R[1].error:R[1].data:void 0,A=e.createURL(t.location),T=e.createURL(a),D=R&&ae(R[1])?R[0]:void 0,O=D?En(r,D):r,X=R?R[1].statusCode:void 0,te=i&&X&&X>=400,f=O.filter((I,N)=>{let{route:B}=I;if(B.lazy)return!0;if(B.loader==null)return!1;if(o)return typeof B.loader!="function"||B.loader.hydrate?!0:t.loaderData[B.id]===void 0&&(!t.errors||t.errors[B.id]===void 0);if(Sn(t.loaderData,t.matches[N],I)||u.some(Z=>Z===I.route.id))return!0;let q=t.matches[N],V=I;return Xt(I,W({currentUrl:A,currentParams:q.params,nextUrl:T,nextParams:V.params},n,{actionResult:_,unstable_actionStatus:X,defaultShouldRevalidate:te?!1:s||A.pathname+A.search===T.pathname+T.search||A.search!==T.search||yr(q,V)}))}),j=[];return m.forEach((I,N)=>{if(o||!r.some(de=>de.route.id===I.routeId)||d.has(N))return;let B=Ie(w,I.path,b);if(!B){j.push({key:N,routeId:I.routeId,path:I.path,matches:null,match:null,controller:null});return}let q=t.fetchers.get(N),V=Ct(B,I.path),Z=!1;g.has(N)?Z=!1:p.includes(N)?Z=!0:q&&q.state!=="idle"&&q.data===void 0?Z=s:Z=Xt(V,W({currentUrl:A,currentParams:t.matches[t.matches.length-1].params,nextUrl:T,nextParams:r[r.length-1].params},n,{actionResult:_,unstable_actionStatus:X,defaultShouldRevalidate:te?!1:s})),Z&&j.push({key:N,routeId:I.routeId,path:I.path,matches:B,match:V,controller:new AbortController})}),[f,j]}function Sn(e,t,r){let n=!t||r.route.id!==t.route.id,a=e[r.route.id]===void 0;return n||a}function yr(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function Xt(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}async function qt(e,t,r){if(!e.lazy)return;let n=await e.lazy();if(!e.lazy)return;let a=r[e.id];L(a,"No route found in manifest");let o={};for(let i in n){let u=a[i]!==void 0&&i!=="hasErrorBoundary";Ce(!u,'Route "'+a.id+'" has a static property "'+i+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+i+'" will be ignored.')),!u&&!Yr.has(i)&&(o[i]=n[i])}Object.assign(a,o),Object.assign(a,W({},t(a),{lazy:void 0}))}function Cn(e){return Promise.all(e.matches.map(t=>t.resolve()))}async function Pn(e,t,r,n,a,o,i,s){let u=n.reduce((m,g)=>m.add(g.route.id),new Set),p=new Set,d=await e({matches:a.map(m=>{let g=u.has(m.route.id);return W({},m,{shouldLoad:g,resolve:b=>(p.add(m.route.id),g?Ln(t,r,m,o,i,b,s):Promise.resolve({type:z.data,result:void 0}))})}),request:r,params:a[0].params,context:s});return a.forEach(m=>L(p.has(m.route.id),'`match.resolve()` was not called for route id "'+m.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),d.filter((m,g)=>u.has(a[g].route.id))}async function Ln(e,t,r,n,a,o,i){let s,u,p=d=>{let m,g=new Promise((R,_)=>m=_);u=()=>m(),t.signal.addEventListener("abort",u);let w=R=>typeof d!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+r.route.id+"]"))):d({request:t,params:r.params,context:i},...R!==void 0?[R]:[]),b;return o?b=o(R=>w(R)):b=(async()=>{try{return{type:"data",result:await w()}}catch(R){return{type:"error",result:R}}})(),Promise.race([b,g])};try{let d=r.route[e];if(r.route.lazy)if(d){let m,[g]=await Promise.all([p(d).catch(w=>{m=w}),qt(r.route,a,n)]);if(m!==void 0)throw m;s=g}else if(await qt(r.route,a,n),d=r.route[e],d)s=await p(d);else if(e==="action"){let m=new URL(t.url),g=m.pathname+m.search;throw ne(405,{method:t.method,pathname:g,routeId:r.route.id})}else return{type:z.data,result:void 0};else if(d)s=await p(d);else{let m=new URL(t.url),g=m.pathname+m.search;throw ne(404,{pathname:g})}L(s.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(d){return{type:z.error,result:d}}finally{u&&t.signal.removeEventListener("abort",u)}return s}async function Dn(e){let{result:t,type:r,status:n}=e;if(wr(t)){let i;try{let s=t.headers.get("Content-Type");s&&/\bapplication\/json\b/.test(s)?t.body==null?i=null:i=await t.json():i=await t.text()}catch(s){return{type:z.error,error:s}}return r===z.error?{type:z.error,error:new mr(t.status,t.statusText,i),statusCode:t.status,headers:t.headers}:{type:z.data,data:i,statusCode:t.status,headers:t.headers}}if(r===z.error)return{type:z.error,error:t,statusCode:Tt(t)?t.status:n};if(Un(t)){var a,o;return{type:z.deferred,deferredData:t,statusCode:(a=t.init)==null?void 0:a.status,headers:((o=t.init)==null?void 0:o.headers)&&new Headers(t.init.headers)}}return{type:z.data,data:t,statusCode:n}}function Mn(e,t,r,n,a,o){let i=e.headers.get("Location");if(L(i,"Redirects returned/thrown from loaders/actions must have a Location header"),!Ft.test(i)){let s=n.slice(0,n.findIndex(u=>u.route.id===r)+1);i=Et(new URL(t.url),s,a,!0,i,o),e.headers.set("Location",i)}return e}function Qt(e,t,r){if(Ft.test(e)){let n=e,a=n.startsWith("//")?new URL(t.protocol+n):new URL(n),o=oe(a.pathname,r)!=null;if(a.origin===t.origin&&o)return a.pathname+a.search+a.hash}return e}function Ue(e,t,r,n){let a=e.createURL(br(t)).toString(),o={signal:r};if(n&&ie(n.formMethod)){let{formMethod:i,formEncType:s}=n;o.method=i.toUpperCase(),s==="application/json"?(o.headers=new Headers({"Content-Type":s}),o.body=JSON.stringify(n.json)):s==="text/plain"?o.body=n.text:s==="application/x-www-form-urlencoded"&&n.formData?o.body=St(n.formData):o.body=n.formData}return new Request(a,o)}function St(e){let t=new URLSearchParams;for(let[r,n]of e.entries())t.append(r,typeof n=="string"?n:n.name);return t}function Zt(e){let t=new FormData;for(let[r,n]of e.entries())t.append(r,n);return t}function Tn(e,t,r,n,a,o){let i={},s=null,u,p=!1,d={},m=n&&ae(n[1])?n[1].error:void 0;return r.forEach((g,w)=>{let b=t[w].route.id;if(L(!Se(g),"Cannot handle redirect results in processLoaderData"),ae(g)){let R=g.error;m!==void 0&&(R=m,m=void 0),s=s||{};{let _=Ve(e,b);s[_.route.id]==null&&(s[_.route.id]=R)}i[b]=void 0,p||(p=!0,u=Tt(g.error)?g.error.status:500),g.headers&&(d[b]=g.headers)}else Ee(g)?(a.set(b,g.deferredData),i[b]=g.deferredData.data,g.statusCode!=null&&g.statusCode!==200&&!p&&(u=g.statusCode),g.headers&&(d[b]=g.headers)):(i[b]=g.data,g.statusCode&&g.statusCode!==200&&!p&&(u=g.statusCode),g.headers&&(d[b]=g.headers))}),m!==void 0&&n&&(s={[n[0]]:m},i[n[0]]=void 0),{loaderData:i,errors:s,statusCode:u||200,loaderHeaders:d}}function er(e,t,r,n,a,o,i,s){let{loaderData:u,errors:p}=Tn(t,r,n,a,s);for(let d=0;d<o.length;d++){let{key:m,match:g,controller:w}=o[d];L(i!==void 0&&i[d]!==void 0,"Did not find corresponding fetcher result");let b=i[d];if(!(w&&w.signal.aborted))if(ae(b)){let R=Ve(e.matches,g==null?void 0:g.route.id);p&&p[R.route.id]||(p=W({},p,{[R.route.id]:b.error})),e.fetchers.delete(m)}else if(Se(b))L(!1,"Unhandled fetcher revalidation redirect");else if(Ee(b))L(!1,"Unhandled fetcher deferred data");else{let R=be(b.data);e.fetchers.set(m,R)}}return{loaderData:u,errors:p}}function tr(e,t,r,n){let a=W({},t);for(let o of r){let i=o.route.id;if(t.hasOwnProperty(i)?t[i]!==void 0&&(a[i]=t[i]):e[i]!==void 0&&o.route.loader&&(a[i]=e[i]),n&&n.hasOwnProperty(i))break}return a}function rr(e){return e?ae(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Ve(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function nr(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function ne(e,t){let{pathname:r,routeId:n,method:a,type:o}=t===void 0?{}:t,i="Unknown Server Error",s="Unknown @remix-run/router error";return e===400?(i="Bad Request",a&&r&&n?s="You made a "+a+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":o==="defer-action"?s="defer() is not supported in actions":o==="invalid-body"&&(s="Unable to encode submission body")):e===403?(i="Forbidden",s='Route "'+n+'" does not match URL "'+r+'"'):e===404?(i="Not Found",s='No route matches URL "'+r+'"'):e===405&&(i="Method Not Allowed",a&&r&&n?s="You made a "+a.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":a&&(s='Invalid request method "'+a.toUpperCase()+'"')),new mr(e||500,i,new Error(s),!0)}function ar(e){for(let t=e.length-1;t>=0;t--){let r=e[t];if(Se(r))return{result:r,idx:t}}}function br(e){let t=typeof e=="string"?pe(e):e;return Pe(W({},t,{hash:""}))}function Fn(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function _n(e){return wr(e.result)&&yn.has(e.result.status)}function Ee(e){return e.type===z.deferred}function ae(e){return e.type===z.error}function Se(e){return(e&&e.type)===z.redirect}function Un(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function wr(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function In(e){return gn.has(e.toLowerCase())}function ie(e){return pn.has(e.toLowerCase())}async function ir(e,t,r,n,a,o){for(let i=0;i<r.length;i++){let s=r[i],u=t[i];if(!u)continue;let p=e.find(m=>m.route.id===u.route.id),d=p!=null&&!yr(p,u)&&(o&&o[u.route.id])!==void 0;if(Ee(s)&&(a||d)){let m=n[i];L(m,"Expected an AbortSignal for revalidating fetcher deferred result"),await Rr(s,m,a).then(g=>{g&&(r[i]=g||r[i])})}}}async function Rr(e,t,r){if(r===void 0&&(r=!1),!await e.deferredData.resolveData(t)){if(r)try{return{type:z.data,data:e.deferredData.unwrappedData}}catch(a){return{type:z.error,error:a}}return{type:z.data,data:e.deferredData.data}}}function _t(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Ct(e,t){let r=typeof t=="string"?pe(t).search:t.search;if(e[e.length-1].route.index&&_t(r||""))return e[e.length-1];let n=hr(e);return n[n.length-1]}function or(e){let{formMethod:t,formAction:r,formEncType:n,text:a,formData:o,json:i}=e;if(!(!t||!r||!n)){if(a!=null)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:void 0,text:a};if(o!=null)return{formMethod:t,formAction:r,formEncType:n,formData:o,json:void 0,text:void 0};if(i!==void 0)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:i,text:void 0}}}function gt(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Nn(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function $e(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function An(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function be(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function On(e,t){try{let r=e.sessionStorage.getItem(gr);if(r){let n=JSON.parse(r);for(let[a,o]of Object.entries(n||{}))o&&Array.isArray(o)&&t.set(a,new Set(o||[]))}}catch{}}function jn(e,t){if(t.size>0){let r={};for(let[n,a]of t)r[n]=[...a];try{e.sessionStorage.setItem(gr,JSON.stringify(r))}catch(n){Ce(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Je(){return Je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Je.apply(this,arguments)}const Xe=v.createContext(null),ut=v.createContext(null),ue=v.createContext(null),ct=v.createContext(null),ce=v.createContext({outlet:null,matches:[],isDataRoute:!1}),xr=v.createContext(null);function Bn(e,t){let{relative:r}=t===void 0?{}:t;qe()||L(!1);let{basename:n,navigator:a}=v.useContext(ue),{hash:o,pathname:i,search:s}=Qe(e,{relative:r}),u=i;return n!=="/"&&(u=i==="/"?n:se([n,i])),a.createHref({pathname:u,search:s,hash:o})}function qe(){return v.useContext(ct)!=null}function Le(){return qe()||L(!1),v.useContext(ct).location}function _a(){return v.useContext(ct).navigationType}function Er(e){v.useContext(ue).static||v.useLayoutEffect(e)}function Sr(){let{isDataRoute:e}=v.useContext(ce);return e?Qn():kn()}function kn(){qe()||L(!1);let e=v.useContext(Xe),{basename:t,future:r,navigator:n}=v.useContext(ue),{matches:a}=v.useContext(ce),{pathname:o}=Le(),i=JSON.stringify(Dt(a,r.v7_relativeSplatPath)),s=v.useRef(!1);return Er(()=>{s.current=!0}),v.useCallback(function(p,d){if(d===void 0&&(d={}),!s.current)return;if(typeof p=="number"){n.go(p);return}let m=Mt(p,JSON.parse(i),o,d.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:se([t,m.pathname])),(d.replace?n.replace:n.push)(m,d.state,d)},[t,n,i,o,e])}function Ua(){let{matches:e}=v.useContext(ce),t=e[e.length-1];return t?t.params:{}}function Qe(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=v.useContext(ue),{matches:a}=v.useContext(ce),{pathname:o}=Le(),i=JSON.stringify(Dt(a,n.v7_relativeSplatPath));return v.useMemo(()=>Mt(e,JSON.parse(i),o,r==="path"),[e,i,o,r])}function zn(e,t,r,n){qe()||L(!1);let{navigator:a}=v.useContext(ue),{matches:o}=v.useContext(ce),i=o[o.length-1],s=i?i.params:{};i&&i.pathname;let u=i?i.pathnameBase:"/";i&&i.route;let p=Le(),d;d=p;let m=d.pathname||"/",g=m;if(u!=="/"){let R=u.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(R.length).join("/")}let w=Ie(e,{pathname:g});return Vn(w&&w.map(R=>Object.assign({},R,{params:Object.assign({},s,R.params),pathname:se([u,a.encodeLocation?a.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?u:se([u,a.encodeLocation?a.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),o,r,n)}function Wn(){let e=qn(),t=Tt(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:a},r):null,null)}const Hn=v.createElement(Wn,null);class $n extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?v.createElement(ce.Provider,{value:this.props.routeContext},v.createElement(xr.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Kn(e){let{routeContext:t,match:r,children:n}=e,a=v.useContext(Xe);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(ce.Provider,{value:t},n)}function Vn(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if((o=r)!=null&&o.errors)e=r.matches;else return null}let i=e,s=(a=r)==null?void 0:a.errors;if(s!=null){let d=i.findIndex(m=>m.route.id&&(s==null?void 0:s[m.route.id])!==void 0);d>=0||L(!1),i=i.slice(0,Math.min(i.length,d+1))}let u=!1,p=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let m=i[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(p=d),m.route.id){let{loaderData:g,errors:w}=r,b=m.route.loader&&g[m.route.id]===void 0&&(!w||w[m.route.id]===void 0);if(m.route.lazy||b){u=!0,p>=0?i=i.slice(0,p+1):i=[i[0]];break}}}return i.reduceRight((d,m,g)=>{let w,b=!1,R=null,_=null;r&&(w=s&&m.route.id?s[m.route.id]:void 0,R=m.route.errorElement||Hn,u&&(p<0&&g===0?(b=!0,_=null):p===g&&(b=!0,_=m.route.hydrateFallbackElement||null)));let A=t.concat(i.slice(0,g+1)),T=()=>{let D;return w?D=R:b?D=_:m.route.Component?D=v.createElement(m.route.Component,null):m.route.element?D=m.route.element:D=d,v.createElement(Kn,{match:m,routeContext:{outlet:d,matches:A,isDataRoute:r!=null},children:D})};return r&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?v.createElement($n,{location:r.location,revalidation:r.revalidation,component:R,error:w,children:T(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):T()},null)}var Cr=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Cr||{}),Ye=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ye||{});function Jn(e){let t=v.useContext(Xe);return t||L(!1),t}function Yn(e){let t=v.useContext(ut);return t||L(!1),t}function Gn(e){let t=v.useContext(ce);return t||L(!1),t}function Ut(e){let t=Gn(),r=t.matches[t.matches.length-1];return r.route.id||L(!1),r.route.id}function Xn(){return Ut(Ye.UseRouteId)}function qn(){var e;let t=v.useContext(xr),r=Yn(Ye.UseRouteError),n=Ut(Ye.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Qn(){let{router:e}=Jn(Cr.UseNavigateStable),t=Ut(Ye.UseNavigateStable),r=v.useRef(!1);return Er(()=>{r.current=!0}),v.useCallback(function(a,o){o===void 0&&(o={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Je({fromRouteId:t},o)))},[e,t])}function Zn(e){let{basename:t="/",children:r=null,location:n,navigationType:a=$.Pop,navigator:o,static:i=!1,future:s}=e;qe()&&L(!1);let u=t.replace(/^\/*/,"/"),p=v.useMemo(()=>({basename:u,navigator:o,static:i,future:Je({v7_relativeSplatPath:!1},s)}),[u,s,o,i]);typeof n=="string"&&(n=pe(n));let{pathname:d="/",search:m="",hash:g="",state:w=null,key:b="default"}=n,R=v.useMemo(()=>{let _=oe(d,u);return _==null?null:{location:{pathname:_,search:m,hash:g,state:w,key:b},navigationType:a}},[u,d,m,g,w,b,a]);return R==null?null:v.createElement(ue.Provider,{value:p},v.createElement(ct.Provider,{children:r,value:R}))}new Promise(()=>{});function ea(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:v.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:v.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:v.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}function Ia(e,t){return Rn({basename:t==null?void 0:t.basename,future:Je({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:Vr({initialEntries:t==null?void 0:t.initialEntries,initialIndex:t==null?void 0:t.initialIndex}),hydrationData:t==null?void 0:t.hydrationData,routes:e,mapRouteProperties:ea,unstable_dataStrategy:t==null?void 0:t.unstable_dataStrategy}).initialize()}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function me(){return me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},me.apply(this,arguments)}function It(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}const st="get",yt="application/x-www-form-urlencoded";function dt(e){return e!=null&&typeof e.tagName=="string"}function ta(e){return dt(e)&&e.tagName.toLowerCase()==="button"}function ra(e){return dt(e)&&e.tagName.toLowerCase()==="form"}function na(e){return dt(e)&&e.tagName.toLowerCase()==="input"}function aa(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ia(e,t){return e.button===0&&(!t||t==="_self")&&!aa(e)}function Pt(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function oa(e,t){let r=Pt(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(o=>{r.append(a,o)})}),r}let lt=null;function la(){if(lt===null)try{new FormData(document.createElement("form"),0),lt=!1}catch{lt=!0}return lt}const sa=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bt(e){return e!=null&&!sa.has(e)?null:e}function ua(e,t){let r,n,a,o,i;if(ra(e)){let s=e.getAttribute("action");n=s?oe(s,t):null,r=e.getAttribute("method")||st,a=bt(e.getAttribute("enctype"))||yt,o=new FormData(e)}else if(ta(e)||na(e)&&(e.type==="submit"||e.type==="image")){let s=e.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||s.getAttribute("action");if(n=u?oe(u,t):null,r=e.getAttribute("formmethod")||s.getAttribute("method")||st,a=bt(e.getAttribute("formenctype"))||bt(s.getAttribute("enctype"))||yt,o=new FormData(s,e),!la()){let{name:p,type:d,value:m}=e;if(d==="image"){let g=p?p+".":"";o.append(g+"x","0"),o.append(g+"y","0")}else p&&o.append(p,m)}}else{if(dt(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=st,n=null,a=yt,i=e}return o&&a==="text/plain"&&(i=o,o=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:o,body:i}}const ca=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],da=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],fa=["fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","unstable_viewTransition"],ha="6";try{window.__reactRouterVersion=ha}catch{}const Pr=v.createContext({isTransitioning:!1}),Lr=v.createContext(new Map),ma="startTransition",lr=cr[ma],pa="flushSync",sr=Kr[pa],va="useId",ur=cr[va];function ga(e){lr?lr(e):e()}function Ke(e){sr?sr(e):e()}class ya{constructor(){this.status="pending",this.promise=new Promise((t,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}}function Na(e){let{fallbackElement:t,router:r,future:n}=e,[a,o]=v.useState(r.state),[i,s]=v.useState(),[u,p]=v.useState({isTransitioning:!1}),[d,m]=v.useState(),[g,w]=v.useState(),[b,R]=v.useState(),_=v.useRef(new Map),{v7_startTransition:A}=n||{},T=v.useCallback(f=>{A?ga(f):f()},[A]),D=v.useCallback((f,j)=>{let{deletedFetchers:I,unstable_flushSync:N,unstable_viewTransitionOpts:B}=j;I.forEach(V=>_.current.delete(V)),f.fetchers.forEach((V,Z)=>{V.data!==void 0&&_.current.set(Z,V.data)});let q=r.window==null||r.window.document==null||typeof r.window.document.startViewTransition!="function";if(!B||q){N?Ke(()=>o(f)):T(()=>o(f));return}if(N){Ke(()=>{g&&(d&&d.resolve(),g.skipTransition()),p({isTransitioning:!0,flushSync:!0,currentLocation:B.currentLocation,nextLocation:B.nextLocation})});let V=r.window.document.startViewTransition(()=>{Ke(()=>o(f))});V.finished.finally(()=>{Ke(()=>{m(void 0),w(void 0),s(void 0),p({isTransitioning:!1})})}),Ke(()=>w(V));return}g?(d&&d.resolve(),g.skipTransition(),R({state:f,currentLocation:B.currentLocation,nextLocation:B.nextLocation})):(s(f),p({isTransitioning:!0,flushSync:!1,currentLocation:B.currentLocation,nextLocation:B.nextLocation}))},[r.window,g,d,_,T]);v.useLayoutEffect(()=>r.subscribe(D),[r,D]),v.useEffect(()=>{u.isTransitioning&&!u.flushSync&&m(new ya)},[u]),v.useEffect(()=>{if(d&&i&&r.window){let f=i,j=d.promise,I=r.window.document.startViewTransition(async()=>{T(()=>o(f)),await j});I.finished.finally(()=>{m(void 0),w(void 0),s(void 0),p({isTransitioning:!1})}),w(I)}},[T,i,d,r.window]),v.useEffect(()=>{d&&i&&a.location.key===i.location.key&&d.resolve()},[d,g,a.location,i]),v.useEffect(()=>{!u.isTransitioning&&b&&(s(b.state),p({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),R(void 0))},[u.isTransitioning,b]),v.useEffect(()=>{},[]);let O=v.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:f=>r.navigate(f),push:(f,j,I)=>r.navigate(f,{state:j,preventScrollReset:I==null?void 0:I.preventScrollReset}),replace:(f,j,I)=>r.navigate(f,{replace:!0,state:j,preventScrollReset:I==null?void 0:I.preventScrollReset})}),[r]),X=r.basename||"/",te=v.useMemo(()=>({router:r,navigator:O,static:!1,basename:X}),[r,O,X]);return v.createElement(v.Fragment,null,v.createElement(Xe.Provider,{value:te},v.createElement(ut.Provider,{value:a},v.createElement(Lr.Provider,{value:_.current},v.createElement(Pr.Provider,{value:u},v.createElement(Zn,{basename:X,location:a.location,navigationType:a.historyAction,navigator:O,future:{v7_relativeSplatPath:r.future.v7_relativeSplatPath}},a.initialized||r.future.v7_partialHydration?v.createElement(ba,{routes:r.routes,future:r.future,state:a}):t))))),null)}function ba(e){let{routes:t,future:r,state:n}=e;return zn(t,void 0,n,r)}const wa=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ra=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xa=v.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:o,replace:i,state:s,target:u,to:p,preventScrollReset:d,unstable_viewTransition:m}=t,g=It(t,ca),{basename:w}=v.useContext(ue),b,R=!1;if(typeof p=="string"&&Ra.test(p)&&(b=p,wa))try{let D=new URL(window.location.href),O=p.startsWith("//")?new URL(D.protocol+p):new URL(p),X=oe(O.pathname,w);O.origin===D.origin&&X!=null?p=X+O.search+O.hash:R=!0}catch{}let _=Bn(p,{relative:a}),A=Ca(p,{replace:i,state:s,target:u,preventScrollReset:d,relative:a,unstable_viewTransition:m});function T(D){n&&n(D),D.defaultPrevented||A(D)}return v.createElement("a",me({},g,{href:b||_,onClick:R||o?n:T,ref:r,target:u}))}),Aa=v.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:o="",end:i=!1,style:s,to:u,unstable_viewTransition:p,children:d}=t,m=It(t,da),g=Qe(u,{relative:m.relative}),w=Le(),b=v.useContext(ut),{navigator:R,basename:_}=v.useContext(ue),A=b!=null&&Ma(g)&&p===!0,T=R.encodeLocation?R.encodeLocation(g).pathname:g.pathname,D=w.pathname,O=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;a||(D=D.toLowerCase(),O=O?O.toLowerCase():null,T=T.toLowerCase()),O&&_&&(O=oe(O,_)||O);const X=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let te=D===T||!i&&D.startsWith(T)&&D.charAt(X)==="/",f=O!=null&&(O===T||!i&&O.startsWith(T)&&O.charAt(T.length)==="/"),j={isActive:te,isPending:f,isTransitioning:A},I=te?n:void 0,N;typeof o=="function"?N=o(j):N=[o,te?"active":null,f?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let B=typeof s=="function"?s(j):s;return v.createElement(xa,me({},m,{"aria-current":I,className:N,ref:r,style:B,to:u,unstable_viewTransition:p}),typeof d=="function"?d(j):d)}),Ea=v.forwardRef((e,t)=>{let{fetcherKey:r,navigate:n,reloadDocument:a,replace:o,state:i,method:s=st,action:u,onSubmit:p,relative:d,preventScrollReset:m,unstable_viewTransition:g}=e,w=It(e,fa),b=Mr(),R=Da(u,{relative:d}),_=s.toLowerCase()==="get"?"get":"post",A=T=>{if(p&&p(T),T.defaultPrevented)return;T.preventDefault();let D=T.nativeEvent.submitter,O=(D==null?void 0:D.getAttribute("formmethod"))||s;b(D||T.currentTarget,{fetcherKey:r,method:O,navigate:n,replace:o,state:i,relative:d,preventScrollReset:m,unstable_viewTransition:g})};return v.createElement("form",me({ref:t,method:_,action:R,onSubmit:a?p:A},w))});var Ge;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ge||(Ge={}));var Lt;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Lt||(Lt={}));function Nt(e){let t=v.useContext(Xe);return t||L(!1),t}function Sa(e){let t=v.useContext(ut);return t||L(!1),t}function Ca(e,t){let{target:r,replace:n,state:a,preventScrollReset:o,relative:i,unstable_viewTransition:s}=t===void 0?{}:t,u=Sr(),p=Le(),d=Qe(e,{relative:i});return v.useCallback(m=>{if(ia(m,r)){m.preventDefault();let g=n!==void 0?n:Pe(p)===Pe(d);u(e,{replace:g,state:a,preventScrollReset:o,relative:i,unstable_viewTransition:s})}},[p,u,d,n,a,r,e,o,i,s])}function Oa(e){let t=v.useRef(Pt(e)),r=v.useRef(!1),n=Le(),a=v.useMemo(()=>oa(n.search,r.current?null:t.current),[n.search]),o=Sr(),i=v.useCallback((s,u)=>{const p=Pt(typeof s=="function"?s(a):s);r.current=!0,o("?"+p,u)},[o,a]);return[a,i]}function Pa(){if(typeof document>"u")throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.")}let La=0,Dr=()=>"__"+String(++La)+"__";function Mr(){let{router:e}=Nt(Ge.UseSubmit),{basename:t}=v.useContext(ue),r=Xn();return v.useCallback(function(n,a){a===void 0&&(a={}),Pa();let{action:o,method:i,encType:s,formData:u,body:p}=ua(n,t);if(a.navigate===!1){let d=a.fetcherKey||Dr();e.fetch(d,r,a.action||o,{preventScrollReset:a.preventScrollReset,formData:u,body:p,formMethod:a.method||i,formEncType:a.encType||s,unstable_flushSync:a.unstable_flushSync})}else e.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:u,body:p,formMethod:a.method||i,formEncType:a.encType||s,replace:a.replace,state:a.state,fromRouteId:r,unstable_flushSync:a.unstable_flushSync,unstable_viewTransition:a.unstable_viewTransition})},[e,t,r])}function Da(e,t){let{relative:r}=t===void 0?{}:t,{basename:n}=v.useContext(ue),a=v.useContext(ce);a||L(!1);let[o]=a.matches.slice(-1),i=me({},Qe(e||".",{relative:r})),s=Le();if(e==null){i.search=s.search;let u=new URLSearchParams(i.search);u.has("index")&&u.get("index")===""&&(u.delete("index"),i.search=u.toString()?"?"+u.toString():"")}return(!e||e===".")&&o.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:se([n,i.pathname])),Pe(i)}function ja(e){var t;let{key:r}=e===void 0?{}:e,{router:n}=Nt(Ge.UseFetcher),a=Sa(Lt.UseFetcher),o=v.useContext(Lr),i=v.useContext(ce),s=(t=i.matches[i.matches.length-1])==null?void 0:t.route.id;o||L(!1),i||L(!1),s==null&&L(!1);let u=ur?ur():"",[p,d]=v.useState(r||u);r&&r!==p?d(r):p||d(Dr()),v.useEffect(()=>(n.getFetcher(p),()=>{n.deleteFetcher(p)}),[n,p]);let m=v.useCallback((T,D)=>{s||L(!1),n.fetch(p,s,T,D)},[p,s,n]),g=Mr(),w=v.useCallback((T,D)=>{g(T,me({},D,{navigate:!1,fetcherKey:p}))},[p,g]),b=v.useMemo(()=>v.forwardRef((D,O)=>v.createElement(Ea,me({},D,{navigate:!1,fetcherKey:p,ref:O}))),[p]),R=a.fetchers.get(p)||vr,_=o.get(p);return v.useMemo(()=>me({Form:b,submit:w,load:m},R,{data:_}),[b,w,m,R,_])}function Ma(e,t){t===void 0&&(t={});let r=v.useContext(Pr);r==null&&L(!1);let{basename:n}=Nt(Ge.useViewTransitionState),a=Qe(e,{relative:t.relative});if(!r.isTransitioning)return!1;let o=oe(r.currentLocation.pathname,n)||r.currentLocation.pathname,i=oe(r.nextLocation.pathname,n)||r.nextLocation.pathname;return xt(a.pathname,i)!=null||xt(a.pathname,o)!=null}export{Xe as D,xa as L,Aa as N,Na as R,ce as a,Ua as b,Ia as c,Oa as d,_a as e,Bn as f,ja as g,ut as h,Ie as m,pe as p,Le as u};
